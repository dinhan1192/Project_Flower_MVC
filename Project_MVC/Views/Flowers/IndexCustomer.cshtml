@model IEnumerable<Project_MVC.Models.Flower>
@using Project_MVC.Models
@using Project_MVC.Utils

@{
    ViewBag.Title = "IndexCustomer";
    Layout = "~/Views/Shared/_LayoutCustomerPage.cshtml";

    var thisPage = ViewBag.Page as ThisPage;
    var categories = ViewBag.Categories as IEnumerable<Category>;
    var sort = "";
}

<div class="clothing_product_area">
    <div class="container">
        <div class="row">
            <div class="col-lg-3 col-md-3 col-sm-3 col-xs-12">
                <div class="catagory_price_color">
                    <div class="catagory_area">
                        <h2>CATEGORY</h2>
                        <ul class="catagory">
                            @foreach (var category in categories)
                            {
                                <li><a href="@Url.Action("IndexCustomer", "Flowers", new { categoryCode = category.Code })"> @category.Name</a></li>
                            }
                        </ul>
                    </div>
                    <div class="priceing_area">
                        <h2>Price</h2>
                        <div class="info_widget">
                            <div class="price_filter">
                                <div id="slider-range"></div>
                                <div class="price_slider_amount">
                                    <input type="text" id="amount" name="price" placeholder="Add Your Price" />
                                    @*<input type="submit" value="Search" />*@
                                    <a id="search" class="btn btn-primary" href="@Url.Action("IndexCustomer", "Flowers")">Search</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                        <div class="popular_tag_area popular_tag_response">
                            <div class="popular_items">
                                <h2>FLOWER</h2>
                                <div class="conpany_product_details">
                                    <a href="#"><img src="~/img/banner/banner_left.jpg" alt="" /></a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                        <div class="popular_tag_area">
                            <div class="popular_items">
                                <h2>Highlights</h2>
                            </div>
                        </div>
                        <div class="clothing_carousel_list">
                            <div class="single_clothing_product">
                                @foreach (var item in Model.OrderByDescending(s => s.Rating).Take(3))
                                {
                                    <div class="clothing_item">
                                        @if (item.FlowerImages != null && item.FlowerImages.Count > 0)
                                        {
                                            <img style="width:70px; height:83px;" src="@item.FlowerImages.OrderByDescending(s => s.CreatedAt).FirstOrDefault().ImageUrl" alt="Image placeholder" />
                                        }
                                        <div class="product_clothing_details">
                                            <h2><a href="#">@item.Name</a></h2>
                                            <i class="fa fa-star"></i>
                                            <i class="fa fa-star"></i>
                                            <i class="fa fa-star"></i>
                                            <i class="fa fa-star"></i>
                                            <i class="fa fa-star"></i>
                                            <p>@string.Format("{0:C0}", item.Price) VNĐ</p>
                                        </div>
                                    </div>
                                }
                            </div>
                            <div class="single_clothing_product">
                                @foreach (var item in Model.OrderByDescending(s => s.Rating).Skip(3).Take(3))
                                {
                                    <div class="clothing_item">
                                        @if (item.FlowerImages != null && item.FlowerImages.Count > 0)
                                        {
                                            <img style="width:70px; height:83px;" src="@item.FlowerImages.OrderByDescending(s => s.CreatedAt).FirstOrDefault().ImageUrl" alt="Image placeholder" />
                                        }
                                        <div class="product_clothing_details">
                                            <h2><a href="#">@item.Name</a></h2>
                                            <i class="fa fa-star"></i>
                                            <i class="fa fa-star"></i>
                                            <i class="fa fa-star"></i>
                                            <i class="fa fa-star"></i>
                                            <i class="fa fa-star"></i>
                                            <p>@string.Format("{0:C0}", item.Price) VNĐ</p>
                                        </div>
                                    </div>
                                }
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-9 col-md-9 col-sm-9 col-xs-12">
                <div class="row">
                    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                        <div class="sort-by">
                            <label>Sort By</label>
                            @Html.Hidden("hidSort", @sort)
                            @Html.DropDownList("sortFlower", Constant.ListSortFlower as IEnumerable<SelectListItem>)
                            <a id="linkSort" href="@Url.Action("IndexCustomer", "Flowers")"><i class="fa fa-long-arrow-up"></i></a>
                        </div>
                    </div>
                </div>
                <div class="my_tabs">
                    <ul class="tab_style">
                        <li></li>
                        <li></li>
                    </ul>
                    @*<div class="limiter">
                            <label>Show</label>
                            <select>
                                <option value="">9</option>
                                <option value="" selected="selected">12</option>
                                <option value="">24</option>
                                <option value="">36</option>
                            </select> per page
                        </div>*@
                    
                    <div class="tab-content tab_content_style">
                        <div id="tab1" class="tab-pane fade in active">
                            <div class="row">
                                @foreach (var item in Model.Take(3))
                                {
                                    <div class="col-lg-4 col-md-4 col-sm-4 col-xs-12">
                                        <div class="product_list">
                                            <div class="single_product repomsive_768">
                                                <a href="@Url.Action("DetailCustomers", "Flowers", new { id = item.Code })" target="main">
                                                    @if (item.FlowerImages != null && item.FlowerImages.Count > 0)
                                                    {
                                                        <img id="bigImage" style="width:258px; height:308px;" src="@item.FlowerImages.OrderByDescending(s => s.CreatedAt).FirstOrDefault().ImageUrl" alt="Image placeholder" />
                                                    }
                                                </a>
                                                <div class="product_details">
                                                    <h2>@item.Name</h2>
                                                    <p>
                                                        @*<span class="regular_price">$10.00</span>*@
                                                        <span class="popular_price">@string.Format("{0:C0}", item.Price) VNĐ</span>
                                                    </p>
                                                </div>
                                                <div class="product_detail">
                                                    <div class="star_icon">
                                                        <i class="fa fa-star"></i>
                                                        <i class="fa fa-star"></i>
                                                        <i class="fa fa-star"></i>
                                                        <i class="fa fa-star"></i>
                                                        <i class="fa fa-star-half-o"></i>
                                                    </div>
                                                    <div class="product_button">
                                                        <div class="cart_details">
                                                            <a href="@Url.Action("AddCart", "ShoppingCart",new { code = item.Code, quantity = 1 }, null)" target="blank">Add to cart</a>
                                                        </div>
                                                        <div class="cart_details">
                                                            <a href="#" target="expand"><i class="fa fa-expand"></i></a>
                                                        </div>
                                                        <div class="cart_details">
                                                            <a href="#" target="heart"><i class="fa fa-heart-o"></i></a>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                }

                            </div>
                            <div class="row">
                                @foreach (var item in Model.Skip(3).Take(3))
                                {
                                    <div class="col-lg-4 col-md-4 col-sm-4 col-xs-12">
                                        <div class="product_list">
                                            <div class="single_product repomsive_768">
                                                <a href="@Url.Action("DetailCustomers", "Flowers", new { id = item.Code })" target="main">
                                                    @if (item.FlowerImages != null && item.FlowerImages.Count > 0)
                                                    {
                                                        <img id="bigImage" style="width:258px; height:308px;" src="@item.FlowerImages.OrderByDescending(s => s.CreatedAt).FirstOrDefault().ImageUrl" alt="Image placeholder" />
                                                    }
                                                </a>
                                                <div class="product_details">
                                                    <h2>@item.Name</h2>
                                                    <p>
                                                        @*<span class="regular_price">$10.00</span>*@
                                                        <span class="popular_price">@string.Format("{0:C0}", item.Price) VNĐ</span>
                                                    </p>
                                                </div>
                                                <div class="product_detail">
                                                    <div class="star_icon">
                                                        <i class="fa fa-star"></i>
                                                        <i class="fa fa-star"></i>
                                                        <i class="fa fa-star"></i>
                                                        <i class="fa fa-star"></i>
                                                        <i class="fa fa-star-half-o"></i>
                                                    </div>
                                                    <div class="product_button">
                                                        <div class="cart_details">
                                                            <a href="@Url.Action("AddCart", "ShoppingCart",new { code = item.Code, quantity = 1 }, null)" target="blank">Add to cart</a>
                                                        </div>
                                                        <div class="cart_details">
                                                            <a href="#" target="expand"><i class="fa fa-expand"></i></a>
                                                        </div>
                                                        <div class="cart_details">
                                                            <a href="#" target="heart"><i class="fa fa-heart-o"></i></a>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                }
                            </div>
                            <div class="row">
                                @foreach (var item in Model.Skip(6).Take(3))
                                {
                                    <div class="col-lg-4 col-md-4 col-sm-4 col-xs-12">
                                        <div class="product_list">
                                            <div class="single_product repomsive_768">
                                                <a href="@Url.Action("DetailCustomers", "Flowers", new { id = item.Code })" target="main">
                                                    @if (item.FlowerImages != null && item.FlowerImages.Count > 0)
                                                    {
                                                        <img id="bigImage" style="width:258px; height:308px;" src="@item.FlowerImages.OrderByDescending(s => s.CreatedAt).FirstOrDefault().ImageUrl" alt="Image placeholder" />
                                                    }
                                                </a>
                                                <div class="product_details">
                                                    <h2>@item.Name</h2>
                                                    <p>
                                                        @*<span class="regular_price">$10.00</span>*@
                                                        <span class="popular_price">@string.Format("{0:C0}", item.Price) VNĐ</span>
                                                    </p>
                                                </div>
                                                <div class="product_detail">
                                                    <div class="star_icon">
                                                        <i class="fa fa-star"></i>
                                                        <i class="fa fa-star"></i>
                                                        <i class="fa fa-star"></i>
                                                        <i class="fa fa-star"></i>
                                                        <i class="fa fa-star-half-o"></i>
                                                    </div>
                                                    <div class="product_button">
                                                        <div class="cart_details">
                                                            <a href="@Url.Action("AddCart", "ShoppingCart",new { code = item.Code, quantity = 1 }, null)" target="blank">Add to cart</a>
                                                        </div>
                                                        <div class="cart_details">
                                                            <a href="#" target="expand"><i class="fa fa-expand"></i></a>
                                                        </div>
                                                        <div class="cart_details">
                                                            <a href="#" target="heart"><i class="fa fa-heart-o"></i></a>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                }
                            </div>
                        </div>
                        <br />
                        @Html.Partial("_Paginate", thisPage)
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

@section Scripts{
    <script>
        //$('#sortFlower').change(function () {
        //    debugger;
        //    $("#hidSort").val($(this).val());
        //});

        $("#linkSort").click(function () {
            debugger;
            var $sort = $("#sortFlower").val();

            $(this).attr("href", $(this).attr("href") + "?sortFlower=" + $sort);
        })

        debugger;
        var amount = $("#amount").val();
        $("#search").click(function () {
            var $amount = $("#amount").val();

            $(this).attr("href", $(this).attr("href") + "?amount=" + $amount);
        })
            //document.getElementById("amount").innerHTML = "$4 $2000";
    </script>
}

